{"ast":null,"code":"var _jsxFileName = \"/Users/rileycroucher/repos/UWTSD/reactcpa/client/src/Create.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar swearjar = require('swearjar');\n\nconst Create = () => {\n  _s();\n\n  const [plates, setPlates] = useState([]);\n  const [id, setId] = useState();\n  const [customerid, setcustomerid] = useState();\n  const [paymentid, setpaymentid] = useState();\n  const [plateid, setplateid] = useState();\n  useEffect(() => {\n    axios.get('http://localhost:8080/plates/search/findByRegistrationplateIgnoreCase?registrationplate=' + id, {\n      mode: 'no-cors'\n    }).then(res => {\n      console.log(res.data._embedded.plates);\n      setPlates(res.data._embedded.plates);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [id]);\n  var notAvail = false;\n  var cost = 1;\n  var undefinedid = false;\n\n  if (plates.length === 0) {\n    notAvail = false;\n  } else {\n    notAvail = true;\n  }\n\n  if (id === undefined) {\n    undefinedid = true;\n  } else {\n    cost = Math.round(10000 / id.length);\n  }\n\n  var swear = swearjar.profane(id);\n  const fnameRef = useRef();\n  const snameRef = useRef();\n  const addressRef = useRef();\n  const methodRef = useRef();\n\n  const handleSubmit = () => {\n    console.log(fnameRef.current.value, snameRef.current.value, addressRef.current.value, methodRef.current.value);\n    const customerref = {\n      firstname: '' + fnameRef.current.value + '',\n      secondname: '' + snameRef.current.value + '',\n      address: '' + addressRef.current.value + ''\n    };\n    const paymentref = {\n      cost: '' + cost + '',\n      method: '' + methodRef.current.value + ''\n    };\n    axios.post('http://localhost:8080/customer', customerref).then(response => {\n      console.log(response);\n      setcustomerid(response.data.customerid);\n    });\n    axios.post('http://localhost:8080/payment', paymentref).then(response => {\n      console.log(response);\n      setpaymentid(response.data.paymentid);\n    });\n  };\n\n  const handlePlate = () => {\n    console.log(paymentid, customerid);\n    const platesref = {\n      registrationplate: '' + id + '',\n      customer: 'http://localhost:8080/customer/' + customerid,\n      payment: 'http://localhost:8080/payment/' + paymentid\n    };\n    axios.post('http://localhost:8080/plates', platesref).then(response => {\n      console.log(response);\n      setplateid(response.data.plateid);\n    });\n  };\n\n  if (undefinedid === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create a new plate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"registration-ui\",\n        value: id,\n        onChange: e => setId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  } else if (swear === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create a new plate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"registration-ui\",\n        value: id,\n        onChange: e => setId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please refrain from profanity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  } else if (swear === false && notAvail === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create a new plate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"registration-ui\",\n        value: id,\n        onChange: e => setId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Plate not availible\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create a new plate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"registration-ui\",\n        value: id,\n        onChange: e => setId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Plate available \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Plate cost: \\xA3\", cost]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fname\",\n          children: \"First Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"fname\",\n          name: \"fname\",\n          ref: fnameRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 80\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 85\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"sname\",\n          children: \"Second Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 64\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"sname\",\n          name: \"sname\",\n          ref: snameRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 80\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 85\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address\",\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 62\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"address\",\n          name: \"address\",\n          ref: addressRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 91\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"paymentmethod\",\n          children: \"Payment Method (PayPal, Card, etc):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 95\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"paymentmethod\",\n          name: \"paymentmethod\",\n          ref: methodRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 97\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 102\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleSubmit,\n          children: \"Submit Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 89\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 94\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handlePlate,\n          children: \"Register Plate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(Create, \"pmB3k+Qr5ZrS9bf1+HRiWZtcB70=\");\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["/Users/rileycroucher/repos/UWTSD/reactcpa/client/src/Create.js"],"names":["useEffect","useRef","useState","axios","swearjar","require","Create","plates","setPlates","id","setId","customerid","setcustomerid","paymentid","setpaymentid","plateid","setplateid","get","mode","then","res","console","log","data","_embedded","catch","err","notAvail","cost","undefinedid","length","undefined","Math","round","swear","profane","fnameRef","snameRef","addressRef","methodRef","handleSubmit","current","value","customerref","firstname","secondname","address","paymentref","method","post","response","handlePlate","platesref","registrationplate","customer","payment","e","target"],"mappings":"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","sourcesContent":["import {useEffect, useRef, useState} from \"react\";\nimport axios from \"axios\";\nvar swearjar = require('swearjar');\n\n\nconst Create = () => {\n    const [plates, setPlates] = useState([])\n    const [id,setId] = useState( )\n    const [customerid,setcustomerid] = useState( )\n    const [paymentid,setpaymentid] = useState( )\n    const [plateid,setplateid] = useState( )\n\n\n    useEffect(() => {\n        axios.get('http://localhost:8080/plates/search/findByRegistrationplateIgnoreCase?registrationplate='+id, {mode:  'no-cors'})\n            .then(res=> {\n                console.log(res.data._embedded.plates)\n                setPlates(res.data._embedded.plates)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n\n    }, [id])\n\n    var notAvail =false;\n    var cost =1;\n    var undefinedid = false;\n\n    if (plates.length ===0){\n        notAvail =false;\n    }\n    else {\n        notAvail =true;\n    }\n\n    if (id === undefined){\n        undefinedid = true;\n    }\n    else {\n        cost = Math.round(10000/id.length)\n    }\n    var swear = swearjar.profane(id)\n\n    const fnameRef = useRef();\n    const snameRef = useRef();\n    const addressRef = useRef();\n    const methodRef = useRef();\n\n\n    const handleSubmit = () => {\n        console.log(fnameRef.current.value, snameRef.current.value, addressRef.current.value, methodRef.current.value);\n        const customerref = {\n            firstname: '' + fnameRef.current.value + '',\n            secondname: '' + snameRef.current.value + '',\n            address: '' + addressRef.current.value + ''\n        }\n        const paymentref = {cost: '' + cost + '', method: '' + methodRef.current.value + ''}\n        axios.post('http://localhost:8080/customer', customerref)\n            .then(response => {\n                console.log(response)\n                setcustomerid(response.data.customerid)\n            });\n        axios.post('http://localhost:8080/payment', paymentref)\n            .then(response => {\n                console.log(response)\n                setpaymentid(response.data.paymentid)\n            });\n\n    }\n    const handlePlate = () => {\n        console.log(paymentid,customerid);\n        const platesref = {registrationplate: '' + id + '',customer: 'http://localhost:8080/customer/'+customerid, payment: 'http://localhost:8080/payment/'+paymentid}\n        axios.post('http://localhost:8080/plates', platesref)\n            .then(response => {\n                console.log(response)\n                setplateid(response.data.plateid)\n            });\n\n\n    }\n\n\n    if (undefinedid===true){\n        return(\n            <div className=\"box\">\n                <h2>Create a new plate</h2>\n                <br/>\n                <input type=\"text\" className=\"registration-ui\" value={id} onChange={e => setId(e.target.value)}/>\n            </div>)}\n    else if (swear===true){\n        return(\n            <div className=\"box\">\n                <h2>Create a new plate</h2>\n                <br/>\n                <input type=\"text\" className=\"registration-ui\" value={id} onChange={e => setId(e.target.value)}/>\n                <br/>\n                <p>Please refrain from profanity</p>\n            </div>)}\n    else if (swear===false && notAvail===true){\n        return(\n            <div className=\"box\">\n                <h2>Create a new plate</h2>\n                <br/>\n                <input type=\"text\" className=\"registration-ui\" value={id} onChange={e => setId(e.target.value)}/>\n                <br/>\n                <p>Plate not availible</p>\n            </div>\n        )}\n    else {\n        return(\n            <div className=\"box\">\n                <h2>Create a new plate</h2>\n                <br/>\n                <input type=\"text\" className=\"registration-ui\" value={id} onChange={e => setId(e.target.value)}/>\n                <br/>\n                <h3>Plate available </h3>\n                <br/>\n                <h3>Plate cost: £{cost}</h3>\n                <br/>\n                <form>\n                    <label for=\"fname\">First Name:</label><br/>\n                    <input type=\"text\" id=\"fname\" name=\"fname\" ref={fnameRef}/><br/><br/>\n                    <label htmlFor=\"sname\">Second Name:</label><br/>\n                    <input type=\"text\" id=\"sname\" name=\"sname\" ref={snameRef}/><br/><br/>\n                    <label htmlFor=\"address\">Address:</label><br/>\n                    <input type=\"text\" id=\"address\" name=\"address\" ref={addressRef}/><br/><br/>\n                    <label htmlFor=\"paymentmethod\">Payment Method (PayPal, Card, etc):</label><br/>\n                    <input type=\"text\" id=\"paymentmethod\" name=\"paymentmethod\" ref={methodRef}/><br/><br/>\n                    <button type='button' onClick={handleSubmit}>Submit Details</button><br/><br/>\n                    <button type='button' onClick={handlePlate}>Register Plate</button>\n                </form>\n            </div>)}\n\n\n}\n\nexport default Create"]},"metadata":{},"sourceType":"module"}